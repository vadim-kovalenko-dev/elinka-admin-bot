# Elinka Admin Bot

Telegram-бот для модерации заявок в закрытый чат. Пользователи проходят опрос, администратор одобряет или отклоняет заявки.

## Переменные окружения

Перед запуском создайте файл `.env` в корне проекта и добавьте:

- **`TELEGRAM_TOKEN`** – токен вашего бота (получите у [@BotFather](https://t.me/BotFather))
- **`ADMIN_CHAT_ID`** – ваш ID в Telegram (узнайте через [@userinfobot](https://t.me/userinfobot))
- **`GROUP_LINK`** – ссылка на Telegram-группу для одобренных пользователей

## Быстрый старт

### 1. Клонирование репозитория
```bash
git clone <ваш-repo-URL> elinka-admin-bot
cd elinka-admin-bot
```

### 2. Настройка переменных окружения
```bash
# Создать файл .env и заполнить его
nano .env
```
Пример содержимого `.env` (замените значения на свои):
```
TELEGRAM_TOKEN=ваш_токен_от_BotFather
ADMIN_CHAT_ID=ваш_ID_в_Telegram
GROUP_LINK=ссылка_на_Telegram_группу
```

### 3. Запуск контейнера
```bash
docker compose up -d --build
```

### 4. Проверка работы
```bash
docker compose ps
```
Вы должны увидеть запущенный контейнер `elinka-admin-bot`.

## Основные команды управления

- **`docker compose up -d --build`** – запустить или пересобрать контейнер.
- **`docker compose down`** – остановить контейнер (данные сохранятся).
- **`docker compose down -v`** – остановить и удалить volume (данные удалятся).
- **`docker compose logs -f`** – просмотр логов в реальном времени.
- **`docker compose restart`** – перезапустить контейнер без потери данных.

## Важно
- Данные пользователей хранятся в SQLite-файле `bot_data/responses.db`, который монтируется как volume. При перезапуске контейнера данные сохраняются.
- Для продакшена удалите `.env` из репозитория и передавайте переменные через секреты Docker или переменные окружения сервера.
- Бот использует polling, поэтому должен быть доступен в интернете (например, на VPS).

## Возможности
- Опрос пользователей (6 вопросов)
- Отправка заявок администратору с inline-кнопками
- Админ-панель со статистикой
- Автоматическое уведомление пользователей о решении

## Лицензия
Проект предназначен для личного использования.
